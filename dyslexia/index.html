<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dyslexia-Friendly Text â€” SendSteps</title>
<link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400&family=Nunito:wght@500;600;700;800&display=swap" rel="stylesheet">
<style>
@font-face {
  font-family: 'OpenDyslexic';
  src: url('https://cdn.jsdelivr.net/npm/opendyslexic@0.91.12/fonts/OpenDyslexic-Regular.otf') format('opentype');
  font-weight: normal;
}
@font-face {
  font-family: 'OpenDyslexic';
  src: url('https://cdn.jsdelivr.net/npm/opendyslexic@0.91.12/fonts/OpenDyslexic-Bold.otf') format('opentype');
  font-weight: bold;
}
</style>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#FDF8F0;
  --bg2:#FAF3E6;
  --surface:#FFFFFF;
  --surface2:#FEF9F2;
  --border:#E8D8BE;
  --border2:#D4BE9A;
  --teal:#2A9D8F;
  --teal-l:#A8DDD8;
  --teal-d:#1A7A6E;
  --teal-bg:rgba(42,157,143,0.08);
  --amber:#E9913A;
  --amber-l:#FAD9B8;
  --amber-bg:rgba(233,145,58,0.1);
  --text:#2C2416;
  --text2:#5C4F3A;
  --text3:#8C7A60;
  --radius:14px;
  --radius-lg:20px;
  --shadow:0 4px 20px rgba(44,36,22,0.10);
  --shadow-lg:0 8px 40px rgba(44,36,22,0.14);
  --font-ui:'Nunito',sans-serif;
  --font-read:'Atkinson Hyperlegible',sans-serif;
}
html{font-size:16px;scroll-behavior:smooth}
body{
  font-family:var(--font-ui);
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  padding-bottom:60px;
}
button{cursor:pointer;font-family:var(--font-ui);border:none;background:none}

/* â”€â”€ HEADER â”€â”€ */
.header{
  background:linear-gradient(135deg,var(--teal-d),var(--teal));
  padding:32px 20px 28px;
  text-align:center;
  color:white;
}
.header-icon{font-size:2.4rem;display:block;margin-bottom:10px}
.header h1{
  font-family:var(--font-ui);font-size:clamp(1.5rem,3.5vw,2rem);
  font-weight:800;color:white;margin-bottom:8px;letter-spacing:-0.3px;
}
.header p{font-size:0.9rem;font-weight:600;opacity:0.88;max-width:480px;margin:0 auto;line-height:1.6}

/* â”€â”€ LAYOUT â”€â”€ */
.wrap{max-width:960px;margin:0 auto;padding:24px 20px;display:grid;grid-template-columns:1fr 1fr;gap:20px}
@media(max-width:700px){.wrap{grid-template-columns:1fr}}

/* â”€â”€ PANELS â”€â”€ */
.panel{background:var(--surface);border:1.5px solid var(--border);border-radius:var(--radius-lg);padding:22px;box-shadow:var(--shadow)}
.panel-title{
  font-size:0.72rem;font-weight:800;text-transform:uppercase;letter-spacing:1.2px;
  color:var(--text3);margin-bottom:14px;display:flex;align-items:center;gap:7px;
}
.panel-title span{font-size:1rem}

/* â”€â”€ TEXTAREA â”€â”€ */
textarea{
  width:100%;height:220px;
  font-family:var(--font-ui);font-size:0.95rem;
  background:var(--surface2);border:1.5px solid var(--border);
  color:var(--text);border-radius:var(--radius);
  padding:14px;resize:vertical;outline:none;line-height:1.6;
  transition:border-color 0.2s;
}
textarea:focus{border-color:var(--teal)}
textarea::placeholder{color:var(--text3)}

.char-count{font-size:0.72rem;color:var(--text3);font-weight:600;text-align:right;margin-top:6px}

/* â”€â”€ SETTINGS â”€â”€ */
.settings-panel{
  background:var(--surface);border:1.5px solid var(--border);
  border-radius:var(--radius-lg);padding:22px;box-shadow:var(--shadow);
  grid-column:1/-1;
}
.settings-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:18px;margin-top:4px}

.setting-item label{
  display:block;font-size:0.78rem;font-weight:800;
  color:var(--text2);margin-bottom:8px;
}
.setting-value{
  display:inline-block;background:var(--teal);color:white;
  font-size:0.72rem;font-weight:700;padding:2px 8px;
  border-radius:100px;margin-left:6px;min-width:36px;text-align:center;
}

input[type=range]{
  width:100%;height:6px;
  -webkit-appearance:none;appearance:none;
  background:var(--border2);border-radius:100px;outline:none;cursor:pointer;
}
input[type=range]::-webkit-slider-thumb{
  -webkit-appearance:none;appearance:none;
  width:18px;height:18px;border-radius:50%;
  background:var(--teal);border:2px solid white;
  box-shadow:0 2px 6px rgba(42,157,143,0.4);cursor:pointer;
}

/* Toggle chips */
.toggle-group{display:flex;flex-wrap:wrap;gap:7px;margin-top:4px}
.toggle-chip{
  padding:6px 14px;border-radius:100px;font-size:0.8rem;font-weight:700;
  border:2px solid var(--border2);background:var(--surface2);color:var(--text2);
  cursor:pointer;transition:all 0.15s;
}
.toggle-chip.active{background:var(--teal-bg);border-color:var(--teal);color:var(--teal-d)}
.toggle-chip:hover{border-color:var(--teal-l)}

/* Colour overlay chips */
.colour-chips{display:flex;flex-wrap:wrap;gap:7px;margin-top:4px}
.colour-chip{
  width:32px;height:32px;border-radius:50%;cursor:pointer;
  border:3px solid transparent;transition:all 0.15s;
  display:flex;align-items:center;justify-content:center;font-size:0.7rem;
}
.colour-chip.active{border-color:var(--text);transform:scale(1.15)}

/* â”€â”€ OUTPUT â”€â”€ */
.output-panel{
  background:var(--surface);border:1.5px solid var(--border);
  border-radius:var(--radius-lg);padding:28px;box-shadow:var(--shadow-lg);
  grid-column:1/-1;
}
.output-toolbar{
  display:flex;align-items:center;justify-content:space-between;
  flex-wrap:wrap;gap:10px;margin-bottom:20px;
  padding-bottom:16px;border-bottom:1.5px solid var(--border);
}
.output-label{font-size:0.72rem;font-weight:800;text-transform:uppercase;letter-spacing:1.2px;color:var(--text3)}
.toolbar-btns{display:flex;gap:8px;flex-wrap:wrap}
.tool-btn{
  display:inline-flex;align-items:center;gap:6px;
  padding:7px 16px;border-radius:100px;font-size:0.78rem;font-weight:700;
  border:1.5px solid var(--border2);background:var(--surface2);color:var(--text2);
  cursor:pointer;transition:all 0.15s;
}
.tool-btn:hover{border-color:var(--teal);color:var(--teal-d);background:var(--teal-bg)}
.tool-btn.primary{
  background:var(--teal);border-color:var(--teal);color:white;
  box-shadow:0 2px 10px rgba(42,157,143,0.3);
}
.tool-btn.primary:hover{background:var(--teal-d);border-color:var(--teal-d)}

/* â”€â”€ READING OUTPUT â”€â”€ */
#readingOutput{
  font-family:var(--font-read);
  min-height:120px;
  outline:none;
  border-radius:var(--radius);
  padding:20px;
  transition:all 0.3s ease;
  line-height:2;
}
#readingOutput p{margin-bottom:1em}
#readingOutput p:last-child{margin-bottom:0}

/* Highlighted lines */
#readingOutput.highlight-lines p:nth-child(odd){
  background:rgba(42,157,143,0.07);
  border-radius:6px;
  padding:4px 8px;
  margin-left:-8px;
}
#readingOutput.highlight-lines p:nth-child(even){
  padding:4px 8px;
  margin-left:-8px;
}

/* Word spacing emphasis */
#readingOutput.bold-starts b{font-weight:700;color:var(--teal-d)}

.empty-state{
  text-align:center;padding:40px 20px;color:var(--text3);
}
.empty-state .empty-icon{font-size:2.5rem;display:block;margin-bottom:10px;opacity:0.5}
.empty-state p{font-size:0.9rem;font-weight:600}

/* â”€â”€ CONVERT BTN â”€â”€ */
.convert-wrap{margin-top:14px;text-align:center}
.convert-btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:13px 28px;border-radius:100px;
  background:linear-gradient(135deg,var(--teal-d),var(--teal));
  color:white;font-family:var(--font-ui);font-size:0.95rem;font-weight:800;
  border:none;cursor:pointer;
  box-shadow:0 4px 18px rgba(42,157,143,0.35);
  transition:all 0.2s;letter-spacing:0.2px;
}
.convert-btn:hover{transform:translateY(-2px);box-shadow:0 6px 24px rgba(42,157,143,0.45)}
.convert-btn:active{transform:translateY(0)}

/* â”€â”€ TIPS â”€â”€ */
.tips{
  grid-column:1/-1;
  background:var(--amber-bg);border:1.5px solid var(--amber-l);
  border-radius:var(--radius-lg);padding:18px 22px;
}
.tips-title{font-size:0.72rem;font-weight:800;text-transform:uppercase;letter-spacing:1px;color:var(--amber);margin-bottom:10px}
.tips-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:8px}
.tip{font-size:0.82rem;font-weight:600;color:var(--text2);display:flex;align-items:flex-start;gap:7px;line-height:1.45}
.tip-icon{flex-shrink:0;font-size:1rem}

@media print{
  .header,.settings-panel,.wrap>:not(.output-panel),.tips,
  .output-toolbar .toolbar-btns,.convert-wrap{display:none!important}
  body{background:white!important;padding:0}
  .output-panel{border:none!important;box-shadow:none!important;padding:10px!important}
  #readingOutput{padding:0!important}
}
</style>
</head>
<body>

<div class="header">
  <span class="header-icon">ğŸ“–</span>
  <h1>Dyslexia-Friendly Text</h1>
  <p>Paste any text and reformat it to be easier to read â€” adjust font, spacing, line highlighting and more.</p>
</div>

<div class="wrap">

  <!-- INPUT -->
  <div class="panel">
    <div class="panel-title"><span>âœï¸</span> Paste your text</div>
    <textarea id="inputText" placeholder="Paste text here â€” a story, instructions, homework, a letter, anything you need to read..."></textarea>
    <div class="char-count"><span id="charCount">0</span> characters</div>
    <div class="convert-wrap">
      <button class="convert-btn" id="convertBtn">âœ¨ Make it readable</button>
    </div>
  </div>

  <!-- SETTINGS -->
  <div class="panel">
    <div class="panel-title"><span>âš™ï¸</span> Reading settings</div>
    <div style="display:flex;flex-direction:column;gap:16px;margin-top:4px">

      <div class="setting-item">
        <label>Font size <span class="setting-value" id="fontSizeVal">20px</span></label>
        <input type="range" id="fontSize" min="14" max="32" value="20" step="1">
      </div>

      <div class="setting-item">
        <label>Letter spacing <span class="setting-value" id="letterSpaceVal">normal</span></label>
        <input type="range" id="letterSpace" min="0" max="6" value="1" step="1">
      </div>

      <div class="setting-item">
        <label>Line spacing <span class="setting-value" id="lineHeightVal">2.0</span></label>
        <input type="range" id="lineHeight" min="15" max="35" value="20" step="1">
      </div>

      <div class="setting-item">
        <label>Word spacing <span class="setting-value" id="wordSpaceVal">normal</span></label>
        <input type="range" id="wordSpace" min="0" max="10" value="2" step="1">
      </div>

      <div class="setting-item">
        <label>Reading font</label>
        <div class="toggle-group">
          <button class="toggle-chip" id="fontAtkinson">Atkinson Hyperlegible</button>
          <button class="toggle-chip active" id="fontOpenDyslexic">OpenDyslexic</button>
        </div>
      </div>

      <div class="setting-item">
        <label>Options</label>
        <div class="toggle-group">
          <button class="toggle-chip active" id="toggleHighlight">ğŸŸ¢ Highlight lines</button>
          <button class="toggle-chip active" id="toggleBoldStarts">ğŸ”µ Bold first letter</button>
          <button class="toggle-chip" id="toggleUppercase">ğŸ”  CAPITALS</button>
        </div>
      </div>

      <div class="setting-item">
        <label>Background colour</label>
        <div class="colour-chips">
          <div class="colour-chip active" data-color="#FFFFFF" style="background:#FFFFFF;border-color:#ccc" title="White"></div>
          <div class="colour-chip" data-color="#FFFDE7" style="background:#FFFDE7" title="Cream"></div>
          <div class="colour-chip" data-color="#F3F8E8" style="background:#F3F8E8" title="Mint green"></div>
          <div class="colour-chip" data-color="#E8F4FD" style="background:#E8F4FD" title="Sky blue"></div>
          <div class="colour-chip" data-color="#FDE8F5" style="background:#FDE8F5" title="Lavender pink"></div>
          <div class="colour-chip" data-color="#FFF3E0" style="background:#FFF3E0" title="Peach"></div>
          <div class="colour-chip" data-color="#1A1A2E" style="background:#1A1A2E" title="Dark (reduces glare)"></div>
        </div>
      </div>

    </div>
  </div>

  <!-- OUTPUT -->
  <div class="output-panel">
    <div class="output-toolbar">
      <div class="output-label">ğŸ“– Reading view</div>
      <div class="toolbar-btns">
        <button class="tool-btn" id="copyBtn">ğŸ“‹ Copy text</button>
        <button class="tool-btn primary" id="printBtn">ğŸ–¨ï¸ Print</button>
      </div>
    </div>
    <div id="readingOutput" class="highlight-lines bold-starts">
      <div class="empty-state">
        <span class="empty-icon">ğŸ“„</span>
        <p>Paste your text on the left and click<br><strong>Make it readable</strong></p>
      </div>
    </div>
  </div>

  <!-- TIPS -->
  <div class="tips">
    <div class="tips-title">ğŸ’¡ What helps with dyslexia</div>
    <div class="tips-grid">
      <div class="tip"><span class="tip-icon">ğŸ”¤</span> OpenDyslexic adds weight to the bottom of letters so they can't be flipped â€” helping with b/d and p/q confusion</div>
      <div class="tip"><span class="tip-icon">ğŸ”¡</span> Atkinson Hyperlegible was designed to make similar letters easier to tell apart through unique character shapes</div>
      <div class="tip"><span class="tip-icon">ğŸŸ¡</span> Cream or coloured backgrounds reduce glare and visual stress compared to bright white</div>
      <div class="tip"><span class="tip-icon">â†”ï¸</span> Extra letter and word spacing helps the brain separate individual words</div>
      <div class="tip"><span class="tip-icon">ğŸŸ¢</span> Alternating line highlights help the eye track across and return to the right line</div>
      <div class="tip"><span class="tip-icon">ğŸ“</span> Larger line spacing reduces crowding and makes it easier to find your place</div>
      <div class="tip"><span class="tip-icon">ğŸ”µ</span> Bold first letters give visual anchors at the start of each word</div>
    </div>
  </div>

</div>

<script>
// â”€â”€ STATE â”€â”€
let settings = {
  fontSize: 20,
  letterSpace: 1,
  lineHeight: 20,
  wordSpace: 2,
  highlight: true,
  boldStarts: true,
  uppercase: false,
  bgColor: '#FFFFFF',
  fontFamily: "'OpenDyslexic', sans-serif",
};

let currentText = '';

// â”€â”€ SLIDERS â”€â”€
function setupSlider(id, valId, callback) {
  const slider = document.getElementById(id);
  const valEl = document.getElementById(valId);
  slider.addEventListener('input', () => {
    callback(slider.value, valEl);
    applyStyles();
  });
}

setupSlider('fontSize', 'fontSizeVal', (v, el) => {
  settings.fontSize = parseInt(v);
  el.textContent = v + 'px';
});
setupSlider('letterSpace', 'letterSpaceVal', (v, el) => {
  settings.letterSpace = parseFloat(v);
  el.textContent = v == 0 ? 'normal' : v + 'px';
});
setupSlider('lineHeight', 'lineHeightVal', (v, el) => {
  settings.lineHeight = parseInt(v);
  el.textContent = (v / 10).toFixed(1);
});
setupSlider('wordSpace', 'wordSpaceVal', (v, el) => {
  settings.wordSpace = parseInt(v);
  el.textContent = v == 0 ? 'normal' : v + 'px';
});

// â”€â”€ TOGGLES â”€â”€
document.getElementById('toggleHighlight').addEventListener('click', function() {
  settings.highlight = !settings.highlight;
  this.classList.toggle('active', settings.highlight);
  applyStyles();
});
document.getElementById('toggleBoldStarts').addEventListener('click', function() {
  settings.boldStarts = !settings.boldStarts;
  this.classList.toggle('active', settings.boldStarts);
  renderOutput();
});
document.getElementById('toggleUppercase').addEventListener('click', function() {
  settings.uppercase = !settings.uppercase;
  this.classList.toggle('active', settings.uppercase);
  renderOutput();
});

// â”€â”€ COLOUR CHIPS â”€â”€
document.querySelectorAll('.colour-chip').forEach(chip => {
  chip.addEventListener('click', function() {
    document.querySelectorAll('.colour-chip').forEach(c => c.classList.remove('active'));
    this.classList.add('active');
    settings.bgColor = this.dataset.color;
    const output = document.getElementById('readingOutput');
    output.style.fontFamily = settings.fontFamily;
  output.style.background = settings.bgColor;
    // Dark bg needs light text
    output.style.color = settings.bgColor === '#1A1A2E' ? '#E8E8F0' : '';
  });
});

// â”€â”€ CHAR COUNT â”€â”€
document.getElementById('inputText').addEventListener('input', function() {
  document.getElementById('charCount').textContent = this.value.length;
});

// â”€â”€ CONVERT â”€â”€
document.getElementById('convertBtn').addEventListener('click', () => {
  const text = document.getElementById('inputText').value.trim();
  if (!text) return;
  currentText = text;
  renderOutput();
  applyStyles();
  document.getElementById('readingOutput').scrollIntoView({behavior:'smooth', block:'start'});
});

function processText(text) {
  // Split into paragraphs
  const paras = text.split(/\n\s*\n/).filter(p => p.trim());
  return paras.map(para => {
    let p = para.trim().replace(/\n/g, ' ');
    if (settings.uppercase) p = p.toUpperCase();
    if (settings.boldStarts && !settings.uppercase) {
      // Bold the first letter of each word
      p = p.replace(/\b([a-zA-Z])/g, '<b>$1</b>');
    }
    return `<p>${p}</p>`;
  }).join('');
}

function renderOutput() {
  if (!currentText) return;
  const output = document.getElementById('readingOutput');
  output.innerHTML = processText(currentText);
  output.classList.toggle('highlight-lines', settings.highlight);
  output.classList.toggle('bold-starts', settings.boldStarts);
}

function applyStyles() {
  const output = document.getElementById('readingOutput');
  output.style.fontSize = settings.fontSize + 'px';
  output.style.letterSpacing = settings.letterSpace === 0 ? 'normal' : settings.letterSpace + 'px';
  output.style.lineHeight = settings.lineHeight / 10;
  output.style.wordSpacing = settings.wordSpace === 0 ? 'normal' : settings.wordSpace + 'px';
  output.style.fontFamily = settings.fontFamily;
  output.style.background = settings.bgColor;
  output.style.color = settings.bgColor === '#1A1A2E' ? '#E8E8F0' : '';
  output.classList.toggle('highlight-lines', settings.highlight);
}

// â”€â”€ FONT TOGGLE â”€â”€
document.getElementById('fontAtkinson').addEventListener('click', function() {
  settings.fontFamily = "'Atkinson Hyperlegible', sans-serif";
  document.getElementById('fontAtkinson').classList.add('active');
  document.getElementById('fontOpenDyslexic').classList.remove('active');
  applyStyles();
});
document.getElementById('fontOpenDyslexic').addEventListener('click', function() {
  settings.fontFamily = "'OpenDyslexic', sans-serif";
  document.getElementById('fontOpenDyslexic').classList.add('active');
  document.getElementById('fontAtkinson').classList.remove('active');
  applyStyles();
});

// â”€â”€ COPY â”€â”€
document.getElementById('copyBtn').addEventListener('click', () => {
  const text = document.getElementById('readingOutput').innerText;
  if (!text || text.includes('Paste your text')) return;
  navigator.clipboard.writeText(text).then(() => {
    const btn = document.getElementById('copyBtn');
    const orig = btn.textContent;
    btn.textContent = 'âœ… Copied!';
    setTimeout(() => btn.textContent = orig, 2000);
  });
});

// â”€â”€ PRINT â”€â”€
document.getElementById('printBtn').addEventListener('click', () => window.print());

// â”€â”€ APPLY INITIAL STYLES â”€â”€
applyStyles();
</script>
</body>
</html>
