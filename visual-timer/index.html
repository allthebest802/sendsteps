<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visual Timer ‚Äî SendSteps</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Nunito:wght@500;600;700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#F0F7FF;
  --surface:#FFFFFF;
  --surface2:#F5F9FF;
  --border:#D0E4FF;
  --border2:#B0CCF8;
  --primary:#4A90E8;
  --primary-d:#2A6BC8;
  --primary-l:#DCEEFF;
  --warn:#F0A030;
  --warn-l:#FEF3D8;
  --done:#48C880;
  --done-l:#D8F5E8;
  --done-d:#28A060;
  --text:#1A2840;
  --text2:#3A5070;
  --text3:#7090B0;
  --radius:16px;
  --radius-lg:24px;
  --shadow:0 4px 24px rgba(26,40,64,0.10);
  --shadow-lg:0 8px 48px rgba(26,40,64,0.15);
  --timer-color:#4A90E8;
  --timer-warn:#F0A030;
  --timer-done:#48C880;
}

/* BRIGHT THEME */
body.bright{
  --bg:#FFF8F0;
  --surface:#FFFFFF;
  --surface2:#FFF4E8;
  --border:#FFD8A8;
  --border2:#FFB870;
  --primary:#FF8C30;
  --primary-d:#D06010;
  --primary-l:#FFE8C8;
  --text:#2A1800;
  --text2:#5A3800;
  --text3:#A07040;
  --timer-color:#FF8C30;
}

html{font-size:16px}
body{
  font-family:'Nunito',sans-serif;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  transition:background 0.3s,color 0.3s;
}
button{cursor:pointer;font-family:'Nunito',sans-serif;border:none;background:none}

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
.header{
  text-align:center;padding:28px 20px 16px;
  display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;
}
.header h1{font-family:'Fredoka',sans-serif;font-size:clamp(1.6rem,4vw,2.2rem);font-weight:600;color:var(--text)}
.theme-toggle{
  display:flex;gap:6px;margin-left:auto;
}
.theme-btn{
  padding:6px 14px;border-radius:100px;font-size:0.78rem;font-weight:700;
  border:2px solid var(--border2);background:var(--surface2);color:var(--text2);
  transition:all 0.15s;
}
.theme-btn.active{background:var(--primary-l);border-color:var(--primary);color:var(--primary-d)}

/* ‚îÄ‚îÄ MAIN WRAP ‚îÄ‚îÄ */
.wrap{max-width:520px;margin:0 auto;padding:0 20px 60px}

/* ‚îÄ‚îÄ TIMER DISPLAY ‚îÄ‚îÄ */
.timer-display{
  background:var(--surface);border:2px solid var(--border);
  border-radius:var(--radius-lg);padding:32px 24px 24px;
  box-shadow:var(--shadow-lg);margin-bottom:20px;
  text-align:center;position:relative;
}

/* Circular pie timer */
.circle-wrap{position:relative;width:220px;height:220px;margin:0 auto 20px;cursor:pointer}
.circle-wrap svg{width:220px;height:220px;transform:rotate(-90deg)}
.circle-bg{fill:none;stroke:var(--border);stroke-width:16}
.circle-progress{
  fill:none;stroke:var(--timer-color);stroke-width:16;
  stroke-linecap:round;
  stroke-dasharray:628;stroke-dashoffset:0;
  transition:stroke-dashoffset 0.5s linear, stroke 0.3s;
}
.circle-time{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  font-family:'Fredoka',sans-serif;font-size:3rem;font-weight:600;
  color:var(--text);line-height:1;transition:color 0.3s;
  pointer-events:none;
}
.circle-label{
  font-size:0.72rem;font-weight:700;color:var(--text3);
  text-transform:uppercase;letter-spacing:0.8px;margin-top:4px;
}
.circle-tap{font-size:0.75rem;font-weight:600;color:var(--text3);margin-top:2px}

/* Bar timer */
.bar-wrap{
  height:28px;background:var(--border);border-radius:100px;
  overflow:hidden;margin-bottom:6px;position:relative;
}
.bar-fill{
  height:100%;border-radius:100px;
  background:linear-gradient(90deg,var(--timer-color),var(--primary));
  transition:width 0.5s linear, background 0.3s;
  width:100%;
}
.bar-labels{display:flex;justify-content:space-between;font-size:0.7rem;font-weight:700;color:var(--text3)}

/* Status message */
.status-msg{
  margin-top:12px;font-size:0.88rem;font-weight:700;color:var(--text3);
  min-height:22px;transition:color 0.3s;
}
.status-msg.warning{color:var(--warn)}
.status-msg.done{color:var(--done-d)}

/* ‚îÄ‚îÄ CONTROLS ‚îÄ‚îÄ */
.controls{display:flex;gap:10px;justify-content:center;margin-top:20px;flex-wrap:wrap}
.ctrl-btn{
  display:inline-flex;align-items:center;gap:6px;
  padding:11px 22px;border-radius:100px;
  font-size:0.9rem;font-weight:700;transition:all 0.15s;
}
.ctrl-btn.start{
  background:linear-gradient(135deg,var(--primary-d),var(--primary));
  color:white;box-shadow:0 3px 14px rgba(74,144,232,0.35);
}
.ctrl-btn.start:hover{transform:translateY(-1px);box-shadow:0 5px 18px rgba(74,144,232,0.45)}
.ctrl-btn.pause{
  background:var(--warn-l);border:2px solid var(--warn);color:var(--warn);
}
.ctrl-btn.pause:hover{background:var(--warn);color:white}
.ctrl-btn.reset{
  background:var(--surface2);border:2px solid var(--border2);color:var(--text2);
}
.ctrl-btn.reset:hover{border-color:var(--text3);color:var(--text)}
.ctrl-btn.fullscreen{
  background:var(--surface2);border:2px solid var(--border2);color:var(--text2);
}
.ctrl-btn.fullscreen:hover{border-color:var(--primary);color:var(--primary-d);background:var(--primary-l)}

/* ‚îÄ‚îÄ PRESETS ‚îÄ‚îÄ */
.preset-card{
  background:var(--surface);border:2px solid var(--border);
  border-radius:var(--radius-lg);padding:20px 24px;
  box-shadow:var(--shadow);margin-bottom:16px;
}
.preset-label{font-size:0.72rem;font-weight:800;text-transform:uppercase;letter-spacing:0.8px;color:var(--text3);margin-bottom:12px}
.preset-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:14px}
@media(max-width:380px){.preset-grid{grid-template-columns:repeat(3,1fr)}}
.preset-btn{
  padding:10px 6px;border-radius:var(--radius);
  border:2px solid var(--border);background:var(--surface2);
  font-size:0.82rem;font-weight:700;color:var(--text2);
  transition:all 0.15s;text-align:center;
}
.preset-btn:hover{border-color:var(--primary);background:var(--primary-l);color:var(--primary-d)}
.preset-btn.active{border-color:var(--primary);background:var(--primary-l);color:var(--primary-d)}
.preset-icon{font-size:1.2rem;display:block;margin-bottom:2px}

/* Custom time */
.custom-row{display:flex;gap:8px;align-items:center}
.custom-label{font-size:0.78rem;font-weight:700;color:var(--text2);white-space:nowrap}
.time-inputs{display:flex;gap:6px;align-items:center}
.time-input{
  width:56px;text-align:center;
  background:var(--surface2);border:2px solid var(--border2);
  color:var(--text);border-radius:var(--radius);padding:8px 4px;
  font-size:1rem;font-weight:700;outline:none;
  transition:border-color 0.2s;
}
.time-input:focus{border-color:var(--primary)}
.time-sep{font-size:1.1rem;font-weight:700;color:var(--text3)}
.set-btn{
  padding:8px 16px;border-radius:var(--radius);
  background:var(--primary);color:white;font-size:0.82rem;font-weight:700;
  transition:all 0.15s;
}
.set-btn:hover{background:var(--primary-d)}

/* ‚îÄ‚îÄ SOUND TOGGLE ‚îÄ‚îÄ */
.sound-row{
  display:flex;align-items:center;gap:10px;
  background:var(--surface);border:2px solid var(--border);
  border-radius:var(--radius-lg);padding:14px 20px;
  box-shadow:var(--shadow);margin-bottom:16px;
}
.sound-label{font-size:0.82rem;font-weight:700;color:var(--text2);flex:1}
.sound-toggle-btn{
  display:flex;align-items:center;gap:8px;
  padding:6px 14px;border-radius:100px;font-size:0.78rem;font-weight:700;
  border:2px solid var(--border2);background:var(--surface2);color:var(--text2);
  transition:all 0.15s;
}
.sound-toggle-btn.on{background:var(--done-l);border-color:var(--done-d);color:var(--done-d)}

/* ‚îÄ‚îÄ FULLSCREEN ‚îÄ‚îÄ */
body.fs-mode{overflow:hidden}
.fs-overlay{
  display:none;position:fixed;inset:0;
  background:var(--bg);
  flex-direction:column;align-items:center;justify-content:center;
  z-index:9999;padding:20px;
}
.fs-overlay.active{display:flex}
.fs-circle{position:relative;cursor:pointer}
.fs-circle svg{width:min(70vmin,400px);height:min(70vmin,400px);transform:rotate(-90deg)}
.fs-bg{fill:none;stroke:var(--border);stroke-width:14}
.fs-progress{
  fill:none;stroke:var(--timer-color);stroke-width:14;
  stroke-linecap:round;
  stroke-dasharray:1257;stroke-dashoffset:0;
  transition:stroke-dashoffset 0.5s linear,stroke 0.3s;
}
.fs-time{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  font-family:'Fredoka',sans-serif;font-size:min(15vmin,90px);font-weight:600;
  color:var(--text);pointer-events:none;
}
.fs-bar-wrap{width:min(80vmin,500px);height:32px;background:var(--border);border-radius:100px;overflow:hidden;margin-top:24px}
.fs-bar-fill{height:100%;border-radius:100px;background:linear-gradient(90deg,var(--timer-color),var(--primary));transition:width 0.5s linear,background 0.3s;width:100%}
.fs-status{font-family:'Fredoka',sans-serif;font-size:min(5vmin,28px);font-weight:600;color:var(--text3);margin-top:16px;min-height:36px}
.fs-status.warning{color:var(--warn)}
.fs-status.done{color:var(--done-d)}
.fs-exit{
  position:absolute;top:20px;right:20px;
  padding:8px 16px;border-radius:100px;font-size:0.82rem;font-weight:700;
  border:2px solid var(--border2);background:var(--surface);color:var(--text2);
}
.fs-exit:hover{border-color:var(--text3)}
.fs-controls{display:flex;gap:12px;margin-top:24px;flex-wrap:wrap;justify-content:center}

/* Done animation */
@keyframes doneFlash{0%,100%{opacity:1}50%{opacity:0.5}}
.done-flash{animation:doneFlash 0.5s ease-in-out 4}
</style>
</head>
<body>

<div class="header">
  <h1>‚è±Ô∏è Visual Timer</h1>
  <div class="theme-toggle">
    <button class="theme-btn active" id="themeCalmBtn" onclick="setTheme('calm')">üåô Calm</button>
    <button class="theme-btn" id="themeBrightBtn" onclick="setTheme('bright')">üåà Bright</button>
  </div>
</div>

<div class="wrap">

  <!-- TIMER DISPLAY -->
  <div class="timer-display">

    <!-- Circular pie -->
    <div class="circle-wrap" onclick="togglePlay()">
      <svg viewBox="0 0 220 220">
        <circle class="circle-bg" cx="110" cy="110" r="100"/>
        <circle class="circle-progress" id="circleProgress" cx="110" cy="110" r="100"/>
      </svg>
      <div class="circle-time" id="circleTime">00:00</div>
    </div>
    <div class="circle-label">Tap circle to start / pause</div>

    <!-- Bar -->
    <div style="margin-top:20px">
      <div class="bar-wrap">
        <div class="bar-fill" id="barFill"></div>
      </div>
      <div class="bar-labels">
        <span>Start</span>
        <span id="barMid"></span>
        <span>End</span>
      </div>
    </div>

    <div class="status-msg" id="statusMsg">Choose a time below to begin</div>

    <!-- Controls -->
    <div class="controls">
      <button class="ctrl-btn start" id="playBtn" onclick="togglePlay()">‚ñ∂ Start</button>
      <button class="ctrl-btn reset" onclick="resetTimer()">‚Ü∫ Reset</button>
      <button class="ctrl-btn fullscreen" onclick="openFullscreen()">‚õ∂ Full screen</button>
    </div>
  </div>

  <!-- PRESETS -->
  <div class="preset-card">
    <div class="preset-label">Quick presets</div>
    <div class="preset-grid">
      <button class="preset-btn" onclick="setPreset(1*60,'1 min')" data-mins="1">
        <span class="preset-icon">‚ö°</span>1 min
      </button>
      <button class="preset-btn" onclick="setPreset(2*60,'2 mins')" data-mins="2">
        <span class="preset-icon">‚úèÔ∏è</span>2 mins
      </button>
      <button class="preset-btn" onclick="setPreset(5*60,'5 mins')" data-mins="5">
        <span class="preset-icon">‚òï</span>5 mins
      </button>
      <button class="preset-btn" onclick="setPreset(10*60,'10 mins')" data-mins="10">
        <span class="preset-icon">üìö</span>10 mins
      </button>
      <button class="preset-btn" onclick="setPreset(15*60,'15 mins')" data-mins="15">
        <span class="preset-icon">üéÆ</span>15 mins
      </button>
      <button class="preset-btn" onclick="setPreset(20*60,'20 mins')" data-mins="20">
        <span class="preset-icon">üèÉ</span>20 mins
      </button>
      <button class="preset-btn" onclick="setPreset(30*60,'30 mins')" data-mins="30">
        <span class="preset-icon">üçΩÔ∏è</span>30 mins
      </button>
      <button class="preset-btn" onclick="setPreset(45*60,'45 mins')" data-mins="45">
        <span class="preset-icon">üõÅ</span>45 mins
      </button>
    </div>

    <div class="preset-label" style="margin-top:4px">Custom time</div>
    <div class="custom-row">
      <div class="time-inputs">
        <input class="time-input" type="number" id="customMins" min="0" max="99" value="5" placeholder="mm">
        <span class="time-sep">:</span>
        <input class="time-input" type="number" id="customSecs" min="0" max="59" value="0" placeholder="ss">
      </div>
      <span class="custom-label">mins : secs</span>
      <button class="set-btn" onclick="setCustom()">Set ‚Üí</button>
    </div>
  </div>

  <!-- SOUND -->
  <div class="sound-row">
    <span class="sound-label">üîî Sound alert when time is up</span>
    <button class="sound-toggle-btn on" id="soundBtn" onclick="toggleSound()">üîä On</button>
  </div>

</div>

<!-- FULLSCREEN OVERLAY -->
<div class="fs-overlay" id="fsOverlay">
  <button class="fs-exit" onclick="closeFullscreen()">‚úï Exit full screen</button>
  <div class="fs-circle" onclick="togglePlay()">
    <svg viewBox="0 0 400 400">
      <circle class="fs-bg" cx="200" cy="200" r="180"/>
      <circle class="fs-progress" id="fsProgress" cx="200" cy="200" r="180"/>
    </svg>
    <div class="fs-time" id="fsTime">00:00</div>
  </div>
  <div class="fs-bar-wrap">
    <div class="fs-bar-fill" id="fsBarFill"></div>
  </div>
  <div class="fs-status" id="fsStatus"></div>
  <div class="fs-controls">
    <button class="ctrl-btn start" id="fsPlayBtn" onclick="togglePlay()">‚ñ∂ Start</button>
    <button class="ctrl-btn reset" onclick="resetTimer()">‚Ü∫ Reset</button>
  </div>
</div>

<script>
// ‚îÄ‚îÄ STATE ‚îÄ‚îÄ
let totalSeconds = 0;
let remainingSeconds = 0;
let running = false;
let interval = null;
let soundOn = true;
let halfwayAlerted = false;
let audioCtx = null;

// ‚îÄ‚îÄ THEME ‚îÄ‚îÄ
function setTheme(t) {
  document.body.classList.toggle('bright', t === 'bright');
  document.getElementById('themeCalmBtn').classList.toggle('active', t === 'calm');
  document.getElementById('themeBrightBtn').classList.toggle('active', t === 'bright');
}

// ‚îÄ‚îÄ SOUND ‚îÄ‚îÄ
function toggleSound() {
  soundOn = !soundOn;
  const btn = document.getElementById('soundBtn');
  btn.textContent = soundOn ? 'üîä On' : 'üîá Off';
  btn.classList.toggle('on', soundOn);
}

function getAudioCtx() {
  if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  return audioCtx;
}

function playBeep(freq, duration, type='sine', vol=0.3) {
  try {
    const ctx = getAudioCtx();
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    osc.connect(gain);
    gain.connect(ctx.destination);
    osc.type = type;
    osc.frequency.value = freq;
    gain.gain.setValueAtTime(vol, ctx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + duration);
    osc.start(ctx.currentTime);
    osc.stop(ctx.currentTime + duration);
  } catch(e){}
}

function playDone() {
  playBeep(523, 0.15); // C5
  setTimeout(() => playBeep(659, 0.15), 180); // E5
  setTimeout(() => playBeep(784, 0.15), 360); // G5
  setTimeout(() => playBeep(1047, 0.4), 540); // C6
}

function playHalfway() {
  playBeep(440, 0.12);
  setTimeout(() => playBeep(440, 0.12), 200);
}

// ‚îÄ‚îÄ FORMAT TIME ‚îÄ‚îÄ
function fmt(s) {
  const m = Math.floor(s / 60);
  const sec = s % 60;
  return String(m).padStart(2,'0') + ':' + String(sec).padStart(2,'0');
}

// ‚îÄ‚îÄ SET TIMER ‚îÄ‚îÄ
function setPreset(secs, label) {
  resetTimer();
  totalSeconds = secs;
  remainingSeconds = secs;
  document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
  event.currentTarget.classList.add('active');
  updateDisplay();
  setStatus('Ready ‚Äî tap Start or the circle');
}

function setCustom() {
  const m = parseInt(document.getElementById('customMins').value) || 0;
  const s = parseInt(document.getElementById('customSecs').value) || 0;
  const total = m * 60 + s;
  if (total <= 0) return;
  resetTimer();
  totalSeconds = total;
  remainingSeconds = total;
  document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
  updateDisplay();
  setStatus('Ready ‚Äî tap Start or the circle');
}

// ‚îÄ‚îÄ PLAY / PAUSE ‚îÄ‚îÄ
function togglePlay() {
  if (totalSeconds === 0) return;
  if (remainingSeconds === 0) { resetTimer(); return; }
  if (running) {
    pause();
  } else {
    start();
  }
}

function start() {
  if (totalSeconds === 0 || remainingSeconds === 0) return;
  running = true;
  updatePlayBtn();
  setStatus('');
  interval = setInterval(tick, 1000);
}

function pause() {
  running = false;
  clearInterval(interval);
  updatePlayBtn();
  setStatus('Paused ‚Äî tap to continue');
}

function resetTimer() {
  running = false;
  clearInterval(interval);
  halfwayAlerted = false;
  remainingSeconds = totalSeconds;
  updatePlayBtn();
  updateDisplay();
  setStatus(totalSeconds > 0 ? 'Ready ‚Äî tap Start or the circle' : 'Choose a time below to begin');
}

function tick() {
  if (remainingSeconds <= 0) {
    running = false;
    clearInterval(interval);
    updatePlayBtn();
    updateDisplay();
    onDone();
    return;
  }
  remainingSeconds--;

  // Halfway warning
  if (!halfwayAlerted && totalSeconds > 0 && remainingSeconds === Math.floor(totalSeconds / 2)) {
    halfwayAlerted = true;
    setStatus('Halfway there! ‚≠ê', 'warning');
    if (soundOn) playHalfway();
  }

  updateDisplay();

  // Last 10 seconds status
  if (remainingSeconds <= 10 && remainingSeconds > 0) {
    setStatus('Almost done... ' + remainingSeconds, 'warning');
  } else if (remainingSeconds > Math.floor(totalSeconds / 2)) {
    setStatus('');
  }
}

function onDone() {
  setStatus('Time is up! üéâ', 'done');
  if (soundOn) playDone();
  // Flash
  document.getElementById('circleTime').classList.add('done-flash');
  setTimeout(() => document.getElementById('circleTime').classList.remove('done-flash'), 2500);
  if (document.getElementById('fsOverlay').classList.contains('active')) {
    document.getElementById('fsTime').classList.add('done-flash');
    setTimeout(() => document.getElementById('fsTime').classList.remove('done-flash'), 2500);
  }
}

// ‚îÄ‚îÄ UPDATE DISPLAY ‚îÄ‚îÄ
function updateDisplay() {
  const pct = totalSeconds > 0 ? remainingSeconds / totalSeconds : 1;
  const timeStr = fmt(remainingSeconds);

  // Circle
  const circ = 2 * Math.PI * 100;
  const offset = circ * (1 - pct);
  const circEl = document.getElementById('circleProgress');
  circEl.style.strokeDashoffset = offset;

  // Circle colour
  const color = pct <= 0 ? 'var(--timer-done)' : pct <= 0.25 ? 'var(--timer-warn)' : 'var(--timer-color)';
  circEl.style.stroke = color;

  document.getElementById('circleTime').textContent = timeStr;
  document.getElementById('circleTime').style.color = pct <= 0.25 && pct > 0 ? 'var(--warn)' : '';

  // Bar
  document.getElementById('barFill').style.width = (pct * 100) + '%';
  document.getElementById('barFill').style.background = pct <= 0.25 && pct > 0
    ? 'linear-gradient(90deg,var(--warn),var(--warn))'
    : pct <= 0
    ? 'linear-gradient(90deg,var(--done),var(--done-d))'
    : 'linear-gradient(90deg,var(--timer-color),var(--primary))';

  // Bar midpoint label
  if (totalSeconds > 0) {
    document.getElementById('barMid').textContent = fmt(Math.floor(totalSeconds / 2));
  }

  // Fullscreen
  const fsCirc = 2 * Math.PI * 180;
  const fsOffset = fsCirc * (1 - pct);
  const fsEl = document.getElementById('fsProgress');
  fsEl.style.strokeDashoffset = fsOffset;
  fsEl.style.stroke = color;
  document.getElementById('fsTime').textContent = timeStr;
  document.getElementById('fsBarFill').style.width = (pct * 100) + '%';
  document.getElementById('fsBarFill').style.background = document.getElementById('barFill').style.background;
}

function updatePlayBtn() {
  const btn = document.getElementById('playBtn');
  const fsBtn = document.getElementById('fsPlayBtn');
  if (running) {
    btn.textContent = '‚è∏ Pause';
    btn.className = 'ctrl-btn pause';
    fsBtn.textContent = '‚è∏ Pause';
    fsBtn.className = 'ctrl-btn pause';
  } else {
    btn.textContent = remainingSeconds === 0 ? '‚Ü∫ Restart' : '‚ñ∂ Start';
    btn.className = 'ctrl-btn start';
    fsBtn.textContent = remainingSeconds === 0 ? '‚Ü∫ Restart' : '‚ñ∂ Start';
    fsBtn.className = 'ctrl-btn start';
  }
}

function setStatus(msg, type) {
  const el = document.getElementById('statusMsg');
  const fsEl = document.getElementById('fsStatus');
  el.textContent = msg;
  el.className = 'status-msg' + (type ? ' ' + type : '');
  fsEl.textContent = msg;
  fsEl.className = 'fs-status' + (type ? ' ' + type : '');
}

// ‚îÄ‚îÄ FULLSCREEN ‚îÄ‚îÄ
function openFullscreen() {
  document.getElementById('fsOverlay').classList.add('active');
  document.body.classList.add('fs-mode');
  updateDisplay();
  // Try native fullscreen
  try { document.documentElement.requestFullscreen && document.documentElement.requestFullscreen(); } catch(e){}
}

function closeFullscreen() {
  document.getElementById('fsOverlay').classList.remove('active');
  document.body.classList.remove('fs-mode');
  try { document.exitFullscreen && document.exitFullscreen(); } catch(e){}
}

// ‚îÄ‚îÄ KEYBOARD ‚îÄ‚îÄ
document.addEventListener('keydown', e => {
  if (e.code === 'Space') { e.preventDefault(); togglePlay(); }
  if (e.code === 'KeyR') resetTimer();
  if (e.code === 'Escape') closeFullscreen();
  if (e.code === 'KeyF') openFullscreen();
});

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
updateDisplay();
setStatus('Choose a time below to begin');
</script>
</body>
</html>
